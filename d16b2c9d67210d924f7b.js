(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{671:function(t,e,n){},673:function(t,e,n){},677:function(t,e,n){"use strict";var r=n(12),o=n(13),c=n(24),l=n(16),f=n(25),d=n(26),h=n(8),v=n(44),m=n(271),k=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=function(t){function e(){return Object(r.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"mounted",value:function(){this.item.resolve()}},{key:"hasExtra",get:function(){return!!this.$slots.default}},{key:"loaded",get:function(){return!!this.item.preview}},{key:"permlink",get:function(){return this.isPreview?"":"/x/"+v.c(this.item.ref.permlink)}},{key:"authorlink",get:function(){return this.isPreview?"":"/x/".concat(this.item.ref.permlink.author)}},{key:"date",get:function(){return v.d(this.item.ref.timestamp)}}]),e}(h.c);k([Object(h.b)({required:!0})],y.prototype,"item",void 0),k([Object(h.b)({default:!1,type:Boolean})],y.prototype,"isPreview",void 0);var O=y=k([Object(h.a)({components:{LazyImage:m.a}})],y),j=(n(686),n(29)),component=Object(j.a)(O,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.loaded?n("span",{staticClass:"post-preview",class:{"has-image":!!t.item.preview.image}},[t.item.preview.image?n("span",{staticClass:"preview-image"},[n("n-link",{attrs:{to:t.permlink}},[n("lazy-image",{attrs:{"disable-animation":"",info:t.item.preview.imageInfo,src:t.item.preview.image,alt:t.item.preview.title}})],1)],1):t._e(),t._v(" "),n("span",{staticClass:"preview-bottom"},[n("span",{staticClass:"preview-right"},[n("span",{staticClass:"preview-title"},[n("n-link",{attrs:{to:t.permlink}},[t._v(t._s(t.item.preview.title))])],1),t._v(" "),n("span",{staticClass:"preview-summary"},[t._v("\n                "+t._s(t.item.preview.summary)+"\n            ")]),t._v(" "),n("span",{staticClass:"preview-info"},[n("span",{staticClass:"author"},[n("n-link",{attrs:{to:t.authorlink}},[t._v(t._s(t.item.preview.author))])],1),t._v(" "),n("span",{staticClass:"date"},[t._v("\n                    "+t._s(t.date)+"\n                ")])])]),t._v(" "),t.hasExtra?n("span",{staticClass:"preview-left"},[t._t("default")],2):t._e()])]):t._e()},[],!1,null,null,null);e.a=component.exports},685:function(t,e,n){"use strict";var r=n(675),o=n.n(r);function c(t,e){o.a.registerLanguage(t,e)}n.d(e,"a",function(){return o.a}),c("cpp",n(708)),c("arduino",n(709)),c("xml",n(710)),c("bash",n(711)),c("basic",n(712)),c("clojure",n(713)),c("clojure-repl",n(714)),c("cmake",n(715)),c("cs",n(716)),c("css",n(717)),c("d",n(718)),c("markdown",n(719)),c("dart",n(720)),c("delphi",n(721)),c("diff",n(722)),c("dns",n(723)),c("dockerfile",n(724)),c("elixir",n(725)),c("elm",n(726)),c("ruby",n(727)),c("erlang-repl",n(728)),c("erlang",n(729)),c("glsl",n(730)),c("haskell",n(731)),c("haxe",n(732)),c("java",n(733)),c("javascript",n(734)),c("json",n(735)),c("julia",n(736)),c("julia-repl",n(737)),c("kotlin",n(738)),c("less",n(739)),c("lisp",n(740)),c("livescript",n(741)),c("llvm",n(742)),c("lua",n(743)),c("makefile",n(744)),c("matlab",n(745)),c("perl",n(746)),c("nginx",n(747)),c("objectivec",n(748)),c("ocaml",n(749)),c("pgsql",n(750)),c("php",n(751)),c("powershell",n(752)),c("processing",n(753)),c("protobuf",n(754)),c("python",n(755)),c("rust",n(756)),c("scala",n(757)),c("scss",n(758)),c("shell",n(759)),c("stylus",n(760)),c("swift",n(761)),c("yaml",n(762)),c("typescript",n(763))},686:function(t,e,n){"use strict";var r=n(671);n.n(r).a},694:function(t,e,n){"use strict";var r=n(673);n.n(r).a},696:function(t,e,n){},697:function(t,e,n){},698:function(t,e,n){},699:function(t,e,n){},700:function(t,e,n){},701:function(t,e,n){},706:function(t,e,n){"use strict";n(48);var r=n(12),o=n(13),c=n(24),l=n(16),f=n(25),d=n(26),h=n(8),v=n(96),m=n(271),k=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},y=(Object(v.d)("user"),function(t){function e(){return Object(r.a)(this,e),Object(c.a)(this,Object(l.a)(e).apply(this,arguments))}return Object(f.a)(e,t),Object(o.a)(e,[{key:"profileAccountName",get:function(){return this.blog.author}},{key:"profileDisplayName",get:function(){return this.profileName||this.profileAccountName}},{key:"profileName",get:function(){return this.profile?this.profile.name:null}},{key:"profileImage",get:function(){return this.blog&&this.profile?this.profile.image:null}},{key:"profileBio",get:function(){return this.blog&&this.profile?this.profile.bio:null}},{key:"profileStats",get:function(){if(!this.blog)return null;var t=this.blog.stats,e=[];if(t.total_posts>0&&e.push("".concat(t.total_posts," ").concat(t.total_posts>1?"Articles":"Article")),t.endorsements_received.count>0){var n=t.endorsements_received.count;e.push("".concat(n," ").concat(n>1?"Endorsements":"Endorsement"))}if(t.incoming_linkbacks.count>0){var r=t.incoming_linkbacks.count;e.push("".concat(r," ").concat(r>1?"Linkbacks":"Linkback"))}return e}}]),e}(h.c));k([Object(h.b)({required:!0})],y.prototype,"profile",void 0),k([Object(h.b)()],y.prototype,"blog",void 0);var O=y=k([Object(h.a)({components:{LazyImage:m.a}})],y),j=(n(694),n(29)),component=Object(j.a)(O,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"dc-profile h-card"},[t.profileImage?n("div",{ref:"image",staticClass:"dc-profile-image"},[n("lazy-image",{staticClass:"u-photo",attrs:{src:t.profileImage,alt:t.profileDisplayName}})],1):t._e(),t._v(" "),n("div",{staticClass:"dc-profile-name",class:{"p-name":!!t.profileName,"p-nickname":!t.profileName}},[t._v("\n        "+t._s(t.profileDisplayName)+"\n    ")]),t._v(" "),t.profileBio?n("div",{staticClass:"dc-profile-bio p-note"},[t._v("\n        "+t._s(t.profileBio)+"\n    ")]):t._e(),t._v(" "),n("div",{staticClass:"dc-profile-stats"},t._l(t.profileStats,function(e,r){return n("span",{key:r},[t._v("\n            "+t._s(e)+"\n        ")])}),0)])},[],!1,null,null,null);e.a=component.exports},793:function(t,e,n){"use strict";var r=n(696);n.n(r).a},794:function(t,e,n){"use strict";var r=n(697);n.n(r).a},795:function(t,e,n){"use strict";var r=n(698);n.n(r).a},796:function(t,e,n){"use strict";var r=n(699);n.n(r).a},797:function(t,e,n){"use strict";var r=n(700);n.n(r).a},798:function(t,e,n){"use strict";var r=n(701);n.n(r).a},806:function(t,e,n){"use strict";n.r(e);n(270),n(48),n(376),n(41),n(39),n(80);var r=n(57),o=(n(43),n(3)),c=n(12),l=n(13),f=n(24),d=n(16),h=n(25),v=n(26),m=n(8),k=(n(272),n(5)),y=k.default.component("dc-switch",{functional:!0,props:{value:{type:[String,Number],required:!0}},render:function(t,e){var data=e.data,n=e.props,r=e.scopedSlots,o=n.value,c=o in r?r[o]:r.default;return c?c(data.attrs):null}}),O=n(29),j=Object(O.a)(y,void 0,void 0,!1,null,null,null).exports,_=(n(91),n(96)),w=n(677),x=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},R=(Object(_.d)("page"),function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"linkback",get:function(){var t=this.permlink,e=t.author,n=t.slug;return this.linkbacks.find(function(t){var link=t.link;return link.to.author===e&&link.to.slug===n})}}]),e}(k.default));x([Object(m.b)({required:!0})],R.prototype,"permlink",void 0),x([Object(m.b)({default:"medium",type:String})],R.prototype,"kind",void 0);var C=R=x([Object(m.a)({components:{InlinePostPreview:w.a},inject:["linkbacks"]})],R),P=(n(793),Object(O.a)(C,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.linkback?t.linkback.error?n("span",{staticClass:"dc-linkref error",class:[t.kind]},[t._v("\n    Invalid reference to "+t._s(t.permlink)+": "+t._s(t.linkback.error)+"\n")]):n("span",{staticClass:"dc-linkref",class:[t.kind]},[t.linkback.to?n("inline-post-preview",{attrs:{item:t.linkback.to}},[t.linkback.link.payment?n("span",{staticClass:"promoted-marker",attrs:{title:"Supported with "+t.linkback.link.payment}},[t._v("â˜†")]):t._e()]):t._e()],1):n("span",{staticClass:"dc-linkref error",class:[t.kind]},[t._v("\n    Invalid reference to "+t._s(t.permlink)+"\n")])},[],!1,null,null,null).exports),D=n(271),I=n(100),E=(n(67),n(68),function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c}),L=function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"text",get:function(){if("text"===this.node[0])return this.node[1]}},{key:"link",get:function(){if(this.text){var link=this.text.marks.find(function(t){return"link"===Object(r.a)(t,1)[0]});if(link)return link[1]}}},{key:"isCode",get:function(){return!!this.text&&void 0!==this.text.marks.find(function(t){return"code"===Object(r.a)(t,1)[0]})}},{key:"textStyles",get:function(){var t={};if(this.text){var e=!0,n=!1,o=void 0;try{for(var c,l=this.text.marks[Symbol.iterator]();!(e=(c=l.next()).done);e=!0){var f=Object(r.a)(c.value,2),d=f[0];f[1];switch(d){case"bold":t["font-weight"]="bold";break;case"italic":t["font-style"]="italic";break;case"strike":t["text-decoration"]="line-through"}}}catch(t){n=!0,o=t}finally{try{e||null==l.return||l.return()}finally{if(n)throw o}}}return t}}]),e}(m.c);E([Object(m.b)({required:!0})],L.prototype,"node",void 0);var A=L=E([m.a],L),$=Object(O.a)(A,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.link?n("a",{attrs:{href:t._f("safeAttr")(t.link.href,"a","href"),title:t._f("safeAttr")(t.link.title,"a","title"),rel:"nofollow noopener"}},[t._v(t._s(t.text.value))]):t.isCode?n("code",[t._v(t._s(t.text.value))]):t.text?n("span",{style:t.textStyles},[t._v(t._s(t.text.value))]):n("br")},[],!1,null,null,null).exports,S=n(685),N=k.default.component("dc-post-body-code-block",{props:{code:{required:!0}},render:function(t){var e=this.code,n=e.lang,code=e.code;if(n.length>0&&S.a.getLanguage(n))try{var r=S.a.highlight(n,code).value;return t("pre",{class:"hljs"},[t("code",r.map(function e(n){return"text"===n.type?n.value:t("span",{class:n.properties.className},n.children.map(e))}))])}catch(t){console.warn("Failed to syntax highlight code block",t)}return t("pre",[t("code",[code])])}}),B=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},T=function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"nodeType",get:function(){return this.node[0]}},{key:"nodeData",get:function(){return this.node[1]}},{key:"isTitle",get:function(){return"heading"===this.nodeType&&I.j(this.doc)===this.nodeData}}]),e}(m.c);B([Object(m.b)({required:!0})],T.prototype,"node",void 0),B([Object(m.b)({required:!0})],T.prototype,"doc",void 0);var z=T=B([Object(m.a)({components:{DcPostBodyCodeBlock:N,DcPostBodyInline:$,DcSwitch:j,LazyImage:D.a,Linkref:P}})],T),M=(n(794),Object(O.a)(z,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dc-switch",{attrs:{value:t.nodeType},scopedSlots:t._u([{key:"paragraph",fn:function(){return[n("p",t._l(t.nodeData.content,function(t,e){return n("dc-post-body-inline",{key:e,attrs:{node:t}})}),1)]},proxy:!0},{key:"heading",fn:function(){return[1==t.nodeData.level?n("h1",{class:{"is-title":t.isTitle}},[t._v(t._s(t.nodeData.value))]):n("h2",[t._v(t._s(t.nodeData.value))])]},proxy:!0},{key:"image",fn:function(){return[n("figure",[n("lazy-image",{attrs:{src:t.nodeData.src}}),t._v(" "),t.nodeData.caption.length>0?n("figcaption",t._l(t.nodeData.caption,function(t,e){return n("dc-post-body-inline",{key:e,attrs:{node:t}})}),1):t._e()],1)]},proxy:!0},{key:"code_block",fn:function(){return[n("dc-post-body-code-block",{attrs:{code:t.nodeData}})]},proxy:!0},{key:"linkref",fn:function(){return[n("linkref",{attrs:{permlink:t.nodeData.to}})]},proxy:!0},{key:"list",fn:function(){return[n(0===t.nodeData.type?"ul":"ol",{tag:"component"},t._l(t.nodeData.items,function(e,r){return n("li",{key:r},[n("p",t._l(e.content,function(t,e){return n("dc-post-body-inline",{key:e,attrs:{node:t}})}),1)])}),0)]},proxy:!0},{key:"divider",fn:function(){return[n("hr")]},proxy:!0},{key:"default",fn:function(){return[n("p",{staticClass:"box"},[t._v("Unknown block node: "+t._s(t.nodeType))])]},proxy:!0}])})},[],!1,null,null,null).exports),F=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},G=function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),e}(m.c);F([Object(m.b)({required:!0})],G.prototype,"doc",void 0);var H=G=F([Object(m.a)({components:{DcPostBodyBlock:M}})],G),U=Object(O.a)(H,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"dc-post-body content"},t._l(t.doc.content,function(e,r){return n("dc-post-body-block",{key:r,attrs:{node:e,doc:t.doc}})}),1)},[],!1,null,null,null).exports,V=n(27),J=n(44),Y=Object(O.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("svg",this._g({attrs:{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},this.$listeners),[e("path",{attrs:{d:"M27.11 15.307l6.671 11.509-20.988 5.083c-.906.21-1.691.526-2.363.953l-.36-.62c.832-.462 1.472-1.064 1.944-1.566L27.11 15.307zm.526-4.142L10.202 28.9c-.975 1.041-1.843 1.541-2.94 1.541-.386 0-.803-.063-1.262-.184l4.19 7.231c.408-1.725 1.288-2.694 3.176-3.13l24.3-5.886-10.03-17.306zm.491 22.004l-.74 3.34a1.681 1.681 0 0 1-1.218 1.216l-4.673 1.221a1.678 1.678 0 0 1-1.612-.441l-2.492-2.7 2.541-.623 1.023 1.214c.279.28.686.391 1.069.293l2.53-.67c.4-.101.711-.412.81-.807l.254-1.43 2.508-.613zm13.805-17.77l-4.25 2.544-1.197-1.99 4.253-2.543 1.194 1.989zm-6.96-1.831l-2.114-.972L34.983 8l2.114.973-2.125 4.595zm8.897 9.71l-5.07-.274.128-2.317 5.073.276-.131 2.315z",fill:"#fff"}})])},[],!1,null,null,null).exports,Z=(n(125),n(168)),K=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c};Object(_.d)("page");function Q(t){return!t.link.payment||t.isHidden?0:(e=t.link.payment,n=e.split(" "),o=Object(r.a)(n,2),c=o[0],symbol=o[1],{amount:parseFloat(c),symbol:symbol}).amount;var e,n,o,c,symbol}function W(a,b){return a.isLoved>b.isLoved?1:b.isLoved>a.isLoved?-1:Q(b)-Q(a)}var X=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(f.a)(this,Object(d.a)(e).apply(this,arguments))).showAll=!1,t}return Object(h.a)(e,t),Object(l.a)(e,[{key:"mounted",value:function(){Object(Z.f)(this.items)}},{key:"sortedItems",get:function(){return this.items.concat().sort(W)}},{key:"relevantItems",get:function(){return this.sortedItems.filter(function(t){return null!=t.link.payment||t.isLoved||t.isAccepted})}},{key:"shownItems",get:function(){return this.showAll?this.sortedItems:this.relevantItems}},{key:"showToggleButton",get:function(){return 0!=this.items.length&&(!this.showAll||0!==this.relevantItems.length)}},{key:"toggleButtonText",get:function(){if(this.showAll)return"Hide details";if(0===this.relevantItems.length){var t="Show ".concat(this.items.length," linkback");return 1!=this.items.length&&(t+="s"),t}return this.relevantItems.length===this.items.length?"Show details":"Show all"}}]),e}(k.default);K([Object(m.b)({required:!0,type:Array})],X.prototype,"items",void 0);var tt=X=K([Object(m.a)({components:{Linkback:function(){return n.e(18).then(n.bind(null,816))}}})],X),et=(n(795),Object(O.a)(tt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.items.length>0?n("section",{staticClass:"linkbacks"},[n("header",{staticClass:"linkbacks-header"},[t.showAll||t.relevantItems.length>0?n("h1",[t._v("\n            "+t._s(t.items.length)+" linkback"+t._s(1!=t.items.length?"s":""))]):t._e(),t._v(" "),n("div",{staticClass:"actions"},[t.showToggleButton?n("a",{on:{click:function(e){t.showAll=!t.showAll}}},[t._v("\n                "+t._s(t.toggleButtonText)+"\n            ")]):t._e()])]),t._v(" "),n("hr"),t._v(" "),t._l(t.shownItems,function(link){return n("div",{key:link.id},[n("linkback",{attrs:{item:link,"show-details":t.showAll}})],1)})],2):t._e()},[],!1,null,null,null).exports),nt=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},ot=Object(_.d)("user"),it=function(t){function e(){var t;return Object(c.a)(this,e),(t=Object(f.a)(this,Object(d.a)(e).apply(this,arguments))).localVotes=0,t.localAmount=0,t.contractAccount=V.a.contractAccount,t.endorseModalOn=!1,t.endorseLoading=!1,t}return Object(h.a)(e,t),Object(l.a)(e,[{key:"endorse",value:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(e){var n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(this.authenticated){t.next=2;break}throw new Error("You must be logged in to endorse");case 2:this.endorseModalOn=!1,this.endorseLoading=!0,this.$api.endorse(this.wallet,"".concat((e/1e4).toFixed(4)," EOS"),this.postRef.permlink).then(function(){n.localVotes+=1,n.localAmount+=e}).finally(function(){n.endorseLoading=!1});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"permlink",get:function(){return J.c(this.postRef.permlink)}},{key:"endorsements",get:function(){var t=this.postRef.endorsements;return t?{count:this.localVotes+t.count,amount:this.localAmount+parseInt(t.amount)}:null}}]),e}(m.c);nt([Object(m.b)({required:!0})],it.prototype,"postRef",void 0),nt([Object(m.b)({required:!0})],it.prototype,"post",void 0),nt([Object(m.b)({required:!0})],it.prototype,"linkbacks",void 0),nt([ot.Getter],it.prototype,"wallet",void 0),nt([ot.Getter],it.prototype,"authenticated",void 0),nt([ot.Getter],it.prototype,"accountName",void 0);var at=it=nt([Object(m.a)({components:{EndorseIcon:Y,Linkbacks:et}})],it),st=(n(796),Object(O.a)(at,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",{staticClass:"dc-post-footer"},[t.endorsements?n("div",{staticClass:"endorsements"},[n("button",{staticClass:"button",on:{click:function(e){e.preventDefault(),t.endorseModalOn=!0}}},[n("endorse-icon")],1),t._v(" "),t.endorsements.count>0?n("span",{staticClass:"info"},[n("span",{staticClass:"count"},[t._v("\n                "+t._s(t.endorsements.count)+"\n                "+t._s(t.endorsements.count>1?"Endorsements":"Endorsement")+"\n            ")]),t._v(" "),n("span",{staticClass:"amount"},[t._v(t._s((t.endorsements.amount/1e4).toFixed(4))+" EOS")])]):n("span",{staticClass:"info"},[n("span",{staticClass:"count"},[t._v("\n                Endorse\n            ")])])]):t._e(),t._v(" "),t.linkbacks.length>0?n("div",{staticClass:"linkbacks"},[n("linkbacks",{attrs:{items:t.linkbacks}})],1):t._e(),t._v(" "),n("b-modal",{staticClass:"endorse-modal",attrs:{active:t.endorseModalOn,scroll:"keep"},on:{"update:active":function(e){t.endorseModalOn=e}}},[n("div",{staticClass:"box"},[n("div",{staticClass:"buttons"},[n("span",{staticClass:"button",on:{click:function(e){return t.endorse(1e3)}}},[t._v("0.1000 EOS")]),t._v(" "),n("span",{staticClass:"button",on:{click:function(e){return t.endorse(1e4)}}},[t._v("1.0000 EOS")]),t._v(" "),n("span",{staticClass:"button",on:{click:function(e){return t.endorse(1e5)}}},[t._v("10.0000 EOS")])]),t._v(" "),n("div",{staticClass:"is-divider"}),t._v("\n            Or you can transfer "),n("code",[t._v("0.1000 EOS")]),t._v(" or more to\n            "),n("code",[t._v(t._s(t.contractAccount))]),t._v(" with the memo\n            "),n("code",[t._v("endorse "+t._s(t.permlink))])])])],1)},[],!1,null,null,null).exports),ct=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},lt=Object(_.d)("user"),ut=function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"unpublishPost",value:function(){var t=this;this.$dialog.confirm({title:"Unpublish post",message:"\n                Are you sure you want to <b>unpublish</b> your post?<br><br>\n                This action will delete the post from your blog and trending feeds but please note that\n                the post data will always exist on the blockchain and can be viewed trough a block explorer.\n            ",confirmText:"Do it!",type:"is-danger",onConfirm:function(){t.$api.unpublish(t.wallet,t.postRef.permlink).then(function(){t.$toast.open("Post unpublished!"),t.$router.push("/x/"+t.accountName)})}})}},{key:"publishTime",get:function(){return J.d(this.postRef.timestamp)}},{key:"isOwnPost",get:function(){return this.postRef.permlink.author===this.accountName}}]),e}(m.c);ct([Object(m.b)({required:!0})],ut.prototype,"postRef",void 0),ct([Object(m.b)({required:!0})],ut.prototype,"post",void 0),ct([lt.Getter],ut.prototype,"wallet",void 0),ct([lt.Getter],ut.prototype,"authenticated",void 0),ct([lt.Getter],ut.prototype,"accountName",void 0);var pt=ut=ct([m.a],ut),ft=(n(797),Object(O.a)(pt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",{staticClass:"dc-post-header"},[n("div",{staticClass:"info"},[n("h1",[t._v(t._s(t.post.title))]),t._v(" "),n("p",[t._v("\n            Published by\n            "),n("n-link",{attrs:{to:"/x/"+t.post.author}},[t._v("\n                "+t._s(t.post.author)+"\n            ")]),t._v("\n            "+t._s(t.publishTime)+"\n        ")],1)]),t._v(" "),n("div",{staticClass:"actions"},[n("no-ssr",[t.isOwnPost?n("button",{staticClass:"button is-danger is-outlined is-small",on:{click:t.unpublishPost}},[t._v("\n                Unpublish\n            ")]):t._e()])],1)])},[],!1,null,null,null).exports),ht=n(706),bt=function(t,e,n,desc){var r,o=arguments.length,c=o<3?e:null===desc?desc=Object.getOwnPropertyDescriptor(e,n):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,n,desc);else for(var i=t.length-1;i>=0;i--)(r=t[i])&&(c=(o<3?r(c):o>3?r(e,n,c):r(e,n))||c);return o>3&&c&&Object.defineProperty(e,n,c),c},vt=(Object(_.d)("page"),/[a-z1-5\.]{1,12}/),mt=/[a-z1-5\-]{1,12}/,kt=function(t){function e(){return Object(c.a)(this,e),Object(f.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(h.a)(e,t),Object(l.a)(e,[{key:"head",value:function(){var t="".concat(V.a.canonicalDomain,"/x/").concat(Object(J.c)(this.ref.permlink)),summary=I.g(this.post),meta=[{hid:"description",name:"description",content:summary},{hid:"og:type",property:"og:type",content:"article"},{hid:"article:published_time",property:"article:published_time",content:this.ref.timestamp+"Z"},{hid:"og:title",property:"og:title",content:this.post.title},{hid:"og:description",property:"og:description",content:summary},{hid:"og:url",property:"og:url",content:t},{hid:"og:site_name",property:"og:site_name",content:"Decentium"}];return this.post.metadata&&this.post.metadata.image&&meta.push({hid:"og:image",property:"og:image",content:this.post.metadata.image}),{title:"".concat(this.post.title," - ").concat(this.authorName," - Decentium"),meta:meta,link:[{rel:"canonical",href:t}]}}},{key:"validate",value:function(t){var e=t.params;return vt.test(e.author)&&mt.test(e.slug)}},{key:"asyncData",value:function(){var t=Object(o.a)(regeneratorRuntime.mark(function t(e){var n,o,c,l,f,d,h,v,m,k,y,O,j,_;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.params,o=e.app,c=e.error,l=e.store,f=Object(J.i)(n.author+"/"+n.slug),t.next=4,o.$api.getPostRef(f.author,f.slug);case 4:if(d=t.sent){t.next=8;break}return c({statusCode:404,message:"Post not found"}),t.abrupt("return");case 8:return t.next=10,o.$api.resolvePostRef(d);case 10:if(h=t.sent){t.next=14;break}return c({statusCode:404,message:"Invalid post reference"}),t.abrupt("return");case 14:return t.next=16,o.$api.getBlog(n.author);case 16:return v=t.sent,m=new Z.e(n.author,v.profile||null),t.next=20,Promise.all([o.$api.getLinkbacks(f,!0),o.$api.getLinkbacks(f,!1)]);case 20:k=t.sent,y=Object(r.a)(k,2),O=y[0],j=y[1],t.next=29;break;case 27:t.next=31;break;case 29:return t.next=31,Object(Z.f)(j,m);case 31:return v.profile&&m.data&&l.commit("page/SET_PROFILE",{key:v.author,value:{ref:v.profile,profile:m.data}}),_=[O,j].flatMap(function(p){return p}),t.abrupt("return",{post:h,ref:d,linkbacks:_,profile:m});case 34:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},{key:"authorName",get:function(){return this.profile.data?this.profile.data.name:this.profile.author}},{key:"body",get:function(){return this.post.doc}},{key:"imageInfo",get:function(){return this.post.metadata?this.post.metadata.image_info:[]}},{key:"incomingLinkbacks",get:function(){var t=this;return this.linkbacks.filter(function(e,n,r){return e.link.to.author==t.ref.permlink.author&&e.link.to.slug==t.ref.permlink.slug})}}]),e}(m.c);bt([Object(Z.a)(Z.e)],kt.prototype,"profile",void 0),bt([Object(Z.a)(Z.b)],kt.prototype,"linkbacks",void 0);var yt=kt=bt([Object(m.a)({components:{UserHeader:ht.a,PostFooter:st,PostHeader:ft,DcPostBody:U},provide:function(){return{linkbacks:this.linkbacks,imageInfo:this.imageInfo}}})],kt),gt=(n(798),Object(O.a)(yt,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"dc-post"},[n("div",{staticClass:"top-wrap"},[n("post-header",{attrs:{post:t.post,"post-ref":t.ref}}),t._v(" "),n("dc-post-body",{attrs:{doc:t.post.doc}})],1),t._v(" "),n("div",{staticClass:"bottom-wrap"},[n("post-footer",{attrs:{post:t.post,"post-ref":t.ref,linkbacks:t.incomingLinkbacks}})],1)])},[],!1,null,null,null));e.default=gt.exports}}]);