(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{1022:function(e,t,r){"use strict";r.r(t);r(120),r(85),r(133),r(97),r(188),r(39),r(55),r(132),r(61),r(53);var n=r(9),o=r(13),c=r(22),l=r(15),f=r(23),d=r(3),v=r(24),m=r(5),h=r(42),y=r(216),_=r(98),k=r(56),w=r(909),O=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(v.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},j=Object(_.d)("page");function x(e,t,r){return C.apply(this,arguments)}function C(){return(C=Object(d.a)(regeneratorRuntime.mark(function e(t,r,n){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all((n||Object.keys(t)).map(function(){var e=Object(d.a)(regeneratorRuntime.mark(function e(n){var o,c;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t[n]){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,r.getTrending(void 0,n,1);case 4:o=e.sent,(c=o.posts)[0]?t[n]=c[0].tx.transaction_id:t[n]="";case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}},e)}))).apply(this,arguments)}var R=function(e){function t(){return Object(n.a)(this,t),Object(c.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(f.a)(t,e),Object(o.a)(t,[{key:"head",value:function(){return{title:this.category?"".concat(Object(k.b)(this.category)," - Decentium"):"Decentium"}}},{key:"fetch",value:function(){var e=Object(d.a)(regeneratorRuntime.mark(function e(t){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.store,e.next=3,r.dispatch("page/loadContractState");case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"mounted",value:function(){x(this.categoryTop,this.$api)}},{key:"isFeatured",value:function(e,t){return 0==t&&this.isFirstPage||this.categoryTop[e.ref.category]==e.id}},{key:"asyncData",value:function(){var e=Object(d.a)(regeneratorRuntime.mark(function e(t){var r,n,o,c,l,f,d,v,m;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("all-topics"!=(r=t.params.category)){e.next=3;break}return e.abrupt("return",{items:[],next:null,categoryTop:{}});case 3:return e.next=5,t.app.$api.getTrending(t.query.before,r);case 5:n=e.sent,o=n.posts,c=n.next,l=o.map(function(e){return new y.d(e)}),d={},(f=null==r)&&l.map(function(e){return e.ref.category}).filter(function(e,t,r){return r.indexOf(e)===t}).forEach(function(e){d[e]=null}),e.next=17;break;case 15:e.next=23;break;case 17:return v=l.slice(0,3),(m=[Object(y.f)(v)]).push(t.store.dispatch("page/loadProfiles",v.map(function(p){return p.ref.permlink.author}))),f&&m.push(x(d,t.app.$api,v.map(function(p){return p.ref.category}))),e.next=23,Promise.all(m);case 23:return e.abrupt("return",{items:l,next:c,categoryTop:d});case 24:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"category",get:function(){return this.$route.params.category||""}},{key:"isFirstPage",get:function(){return null==this.$route.query.before}}]),t}(m.default);O([Object(y.a)(y.d)],R.prototype,"items",void 0),O([j.State],R.prototype,"contractState",void 0),O([j.Getter],R.prototype,"categories",void 0),O([j.Getter],R.prototype,"topCategories",void 0);var P=R=O([Object(h.b)({components:{PostPreview:w.a},watchQuery:["before"],scrollToTop:!0,key:function(e){return e.fullPath},transition:function(){return"dc-feed-xfade"},provide:function(){return{imageInfo:[],linkbacks:[]}}})],R),I=(r(974),r(33)),component=Object(I.a)(P,function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dc-container dc-explore"},[n("nav",{staticClass:"dc-categories"},[n("ul",[n("li",[n("n-link",{attrs:{to:"/",exact:""}},[e._v("All")])],1),e._v(" "),e._l(e.topCategories,function(t){return n("li",{key:t},[n("n-link",{attrs:{to:"/topic/"+t}},[e._v(e._s(e._f("capitalize")(t)))])],1)}),e._v(" "),n("li",[n("n-link",{attrs:{to:"/topic/all-topics",exact:""}},[e._v("More")])],1)],2)]),e._v(" "),e.items.length>0?n("section",{staticClass:"dc-feed"},e._l(e.items,function(t,r){return n("post-preview",{key:t.id,attrs:{item:t,"is-featured":e.isFeatured(t,r)}},[e._v("\n            |\n            "),e.categoryTop[t.ref.category]==t.id?n("span",[e._v("Top post - "+e._s(e._f("capitalize")(t.ref.category)))]):n("span",[e._v(e._s(e._f("capitalize")(t.ref.category)))])])}),1):"all-topics"===e.category?n("section",{staticClass:"dc-all-categories"},[n("img",{attrs:{width:"1920",height:"1920",src:r(972),alt:"You name 'em, we got 'em."}}),e._v(" "),n("h2",{staticClass:"heading-1"},[e._v("We've got all the topics.")]),e._v(" "),n("ul",e._l(e.categories,function(t){return n("li",{key:t},[n("n-link",{attrs:{to:"/topic/"+t}},[e._v(e._s(e._f("capitalize")(t)))])],1)}),0)]):n("section",{staticClass:"dc-feed empty"},[n("img",{attrs:{width:"1920",height:"1920",src:r(973),alt:"Category is empty."}}),e._v(" "),n("p",[e._v("\n            Make the first popular post in the "),n("span",[e._v(e._s(e.category))]),e._v(" topic.\n        ")])]),e._v(" "),e.next?n("div",{staticClass:"next"},[n("n-link",{attrs:{to:"/"+(e.category?"topic/"+e.category:"")+"?before="+e.next}},[e._v("Next →")])],1):e._e()])},[],!1,null,null,null);t.default=component.exports},871:function(e,t,r){},880:function(e,t,r){"use strict";var n=r(871);r.n(n).a},881:function(e,t,r){},909:function(e,t,r){"use strict";r(97);var n=r(9),o=r(13),c=r(22),l=r(15),f=r(23),d=r(24),v=r(8),m=r(56),h=r(381),y=r(388),_=function(e,t,r,desc){var n,o=arguments.length,c=o<3?t:null===desc?desc=Object.getOwnPropertyDescriptor(t,r):desc;if("object"===("undefined"==typeof Reflect?"undefined":Object(d.a)(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,t,r,desc);else for(var i=e.length-1;i>=0;i--)(n=e[i])&&(c=(o<3?n(c):o>3?n(t,r,c):n(t,r))||c);return o>3&&c&&Object.defineProperty(t,r,c),c},k=function(e){function t(){var e;return Object(n.a)(this,t),(e=Object(c.a)(this,Object(l.a)(t).apply(this,arguments))).brokenImage=!1,e}return Object(f.a)(t,e),Object(o.a)(t,[{key:"itemUpdated",value:function(){this.item.resolve(),this.$store.dispatch("page/loadProfiles",[this.item.ref.permlink.author])}},{key:"imageError",value:function(e){this.item.preview&&this.item.preview.imageInfo||(this.brokenImage=!0)}},{key:"classList",get:function(){var e=this.item.preview;return{"is-featured":this.isFeatured,"has-image":!this.brokenImage&&e&&e.hasImage,"is-portrait":e&&e.isPortrait}}},{key:"loaded",get:function(){return null!=this.item.preview}},{key:"permlink",get:function(){return"/"+m.c(this.item.ref.permlink)}},{key:"category",get:function(){return this.item.ref.category}},{key:"date",get:function(){return m.d(this.item.ref.timestamp)}}]),t}(v.c);_([Object(v.b)()],k.prototype,"item",void 0),_([Object(v.b)({default:"medium",type:String})],k.prototype,"kind",void 0),_([Object(v.b)({default:!1,type:Boolean})],k.prototype,"isFeatured",void 0),_([Object(v.d)("item",{immediate:!0})],k.prototype,"itemUpdated",null);var w=k=_([Object(v.a)({components:{LazyImage:h.a,InlineProfile:y.a}})],k),O=(r(880),r(33)),component=Object(O.a)(w,function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.loaded?r("div",{staticClass:"dc-post-preview",class:e.classList},[e.item.preview.image&&!e.brokenImage?r("div",{staticClass:"dc-image"},[r("n-link",{attrs:{to:e.permlink}},[r("lazy-image",{attrs:{"disable-animation":"",info:e.item.preview.imageInfo,src:e.item.preview.image,alt:e.item.preview.title},on:{error:e.imageError}})],1)],1):e._e(),e._v(" "),r("div",{staticClass:"dc-info"},[r("div",{staticClass:"dc-title"},[r("n-link",{attrs:{to:e.permlink}},[e._v(e._s(e.item.preview.title))])],1),e._v(" "),r("div",{staticClass:"dc-summary"},[e._v("\n            "+e._s(e.item.preview.summary)+"\n        ")]),e._v(" "),r("div",{staticClass:"dc-meta"},[r("inline-profile",{attrs:{author:e.item.preview.author,"is-large":e.isFeatured}},[e._v("\n                "+e._s(e.date)+"\n                "),e._t("default")],2)],1)])]):r("div",{staticClass:"dc-post-preview has-image placeholder"},[e.item.error?r("div",{staticClass:"error"},[e._v(e._s(e.item.error))]):e._e(),e._v(" "),r("div",{staticClass:"dc-image"}),e._v(" "),e._m(0)])},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dc-info"},[t("div",{staticClass:"dc-title"},[this._v(" ")]),this._v(" "),t("div",{staticClass:"dc-summary"},[this._v(" ")]),this._v(" "),t("div",{staticClass:"dc-meta"},[this._v(" ")])])}],!1,null,null,null);t.a=component.exports},972:function(e,t,r){e.exports=r.p+"img/830869c.png"},973:function(e,t,r){e.exports=r.p+"img/44844da.png"},974:function(e,t,r){"use strict";var n=r(881);r.n(n).a}}]);